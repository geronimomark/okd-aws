sudo yum update -y
sudo yum install git -y
git clone https://github.com/openshift/openshift-ansible.git
cd openshift-ansible/
sudo amazon-linux-extras install ansible2
sudo yum install golang-bin gcc-c++
mkdir -p /home/ec2-user/go/bin
curl https://raw.githubusercontent.com/golang/dep/master/install.sh | sh
PATH=$PATH:$HOME/.local/bin:$HOME/bin:/home/ec2-user/go/bin
export PATH
cd ~
git clone https://github.com/openshift/installer.git go/src/github.com/openshift/installer
cd go/src/github.com//openshift/installer/
pwd
cd ~/
clear
curl https://dl.google.com/go/go1.12.7.linux-amd64.tar.gz -o go.tar.gz
tar -zxvf go.tar.gz
sudo mv /usr/bin/go /usr/bin/goold

######################
#customize the cluster
######################

# https://github.com/openshift/installer/blob/master/docs/user/aws/customization.md

ssh-keygen
bin/openshift-install --dir=initial create install-config
? Platform aws
? Region ap-southeast-1
? Base Domain markgeronimo.net
? Cluster Name okd-markg
? Pull Secret [? for help] **********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************

cp initial/install-config.yaml
rm rf initial
vi install-config.yaml
bin/openshift-install --dir=cluster-0 create cluster






